(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{252:function(e,t,n){},291:function(e,t,n){},439:function(e,t,n){},440:function(e,t,n){},441:function(e,t,n){},442:function(e,t,n){},443:function(e,t,n){},447:function(e,t,n){"use strict";n.r(t);var c,s=n(2),r=n(62),a=n.n(r),o=n(26),u=n(12),i=n(7),l=n(9),j=(n(251),n(252),n(4)),b=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(""),a=Object(i.a)(r,2),u=a[0],b=a[1],d=Object(s.useState)("Invite your Friends!"),f=Object(i.a)(d,2),m=f[0],O=f[1],h=Object(s.useRef)(null);Object(s.useEffect)((function(){h.current=x(6,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ")}),[]),Object(s.useEffect)((function(){O(u?"Join your Friends!":"Invite your Friends!")}),[u]);var x=function(e,t){for(var n="",c=e;c>0;c--)n+=t[Math.floor(Math.random()*t.length)];return n};return Object(j.jsx)("div",{className:"joinOuterContainer",children:Object(j.jsxs)("div",{className:"joinInnerContainer",children:[Object(j.jsx)("h1",{className:"heading animate__animated animate__bounceInDown",children:"SkribbleGuess!"}),Object(j.jsxs)("div",{children:[Object(j.jsx)(l.g,{label:"Name",size:"lg",labelClass:"md-outline",type:"text",onChange:function(e){return c(e.target.value)}})," "]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(l.g,{label:"Room (Leave blank to host)",size:"lg",type:"text",onChange:function(e){return b(e.target.value)}})," "]}),u?Object(j.jsx)(o.b,{onClick:function(e){return n?null:e.preventDefault()},to:"/DrawingRoom?name=".concat(n,"&room=").concat(u),children:Object(j.jsx)("button",{className:"button button2",type:"submit",children:m})}):Object(j.jsx)(o.b,{onClick:function(e){return n?null:e.preventDefault()},to:"/DrawingRoom?name=".concat(n,"&room=").concat(h.current),children:Object(j.jsx)("button",{className:" button button2",type:"submit",children:m})})]})})},d=n(66),f=n(221),m=n(207),O=n.n(m),h=n(208),x=n.n(h),v=n(40),p=n.p+"static/media/Kids_Cheering.8e637ca4.mp3",g=n.p+"static/media/Fail_1.e6f2c1b4.mp3",N=n.p+"static/media/Bell_Transition.8b9ffd44.mp3",w=n.p+"static/media/Whoosh_4.afe3b2c3.mp3",S=n.p+"static/media/Cartoon_Accent.37376bb8.mp3",C=n.p+"static/media/Pop_1.4ac14c70.mp3",k=n.p+"static/media/among-us-start-sound.41a9e555.mp3",y=(n(291),function(e){var t=e.currentUser,n=e.room,c=e.initialTime,s=e.currentDrawer,r=e.guessWord;return Object(j.jsxs)(l.j,{className:"drawing-info",children:[Object(j.jsx)(l.c,{children:Object(j.jsxs)("h3",{children:["Room: ",n]})}),t.name===s?Object(j.jsx)(l.c,{children:Object(j.jsxs)("h3",{children:["\u270f\ufe0f ",Object(j.jsx)("span",{className:"current-drawer",children:"You!"})]})}):Object(j.jsx)(l.c,{children:Object(j.jsxs)("h3",{children:["\u270f\ufe0f ",s]})}),t.name===s?Object(j.jsx)(l.c,{children:Object(j.jsx)("h3",{children:Object(j.jsx)("span",{className:"guess-word multicolortext",children:r})})}):Object(j.jsx)(l.c,{children:Object(j.jsx)("h3",{children:Object(j.jsx)("pre",{children:r.replace(/\S/gm,"__ ")})})}),Object(j.jsx)(l.c,{children:Object(j.jsxs)("h2",{children:["\u23f1\ufe0f: ",Object(j.jsx)("span",{children:c})]})}),Object(j.jsx)(l.c,{children:Object(j.jsx)(o.b,{to:"/",children:Object(j.jsx)("button",{className:"leave-button",children:"Leave Game"})})})]})}),E=n(86),D=(n(439),function(e){var t=e.currentUser,n=e.users;return Object(j.jsx)(l.c,{className:"drawing-users-column",size:"3",children:Object(j.jsxs)("div",{className:"drawing-users",children:[Object(j.jsx)("h1",{className:"users-title",children:"Users"}),Object(j.jsx)(E.a,{className:"users-scroll",children:n?Object(j.jsx)("div",{children:n.map((function(e){var n=e.name,c=e.points;return n===t.name?Object(j.jsx)("div",{className:"activeItem",children:Object(j.jsxs)("h3",{className:"mb-3 font-user current-user-users",children:[Object(j.jsx)(l.e,{icon:"check",className:"indigo-text"}),"\xa0 ",n,": ",c," pts"]})},n):Object(j.jsx)("div",{className:"activeItem",children:Object(j.jsxs)("h3",{className:"mb-3 font-user",children:["\xa0 ",n,": ",c," pts"]})},n)}))}):null})]})})}),M=(n(440),function(e){var t=e.strokeColor,n=e.sendDrawing,c=e.sendMove,r=e.userMove,a=e.userDraw,o=e.sendScale,u=e.userScale,b=e.currentUser,d=e.canvasClear,f=Object(s.useRef)(null),m=Object(s.useRef)(null),O=Object(s.useRef)(null),h=Object(s.useState)(!1),x=Object(i.a)(h,2),v=x[0],p=x[1];Object(s.useEffect)((function(){var e=f.current;e.width=e.parentNode.offsetWidth-25,e.height=e.parentNode.offsetHeight,e.style.width="".concat(e.parentNode.offsetWidth-25,"px"),e.style.height="".concat(e.parentNode.offsetHeight,"px");var t=e.getContext("2d");t.lineCap="round",t.strokeStyle="blue",t.lineWidth=5,m.current=t}),[]),Object(s.useEffect)((function(){m.current.beginPath(),m.current.strokeStyle=t}),[t]),Object(s.useEffect)((function(){d&&(m.current.clearRect(0,0,f.current.width,f.current.height),g())}),[d]),Object(s.useEffect)((function(){O.current=f.current.width/u}),[u]),Object(s.useEffect)((function(){var e=a.x,t=a.y;m.current.lineTo(e*O.current,t*O.current),m.current.stroke()}),[a]),Object(s.useEffect)((function(){var e=r.x,t=r.y;m.current.moveTo(e*O.current,t*O.current)}),[r]);var g=function(){m.current.beginPath(),p(!1)};return Object(j.jsx)(l.c,{className:"canvas-col",size:"6",children:b.isDrawing?Object(j.jsx)("canvas",{className:"drawing-canvas b-black",onMouseDown:function(e){var t=e.nativeEvent;m.current.beginPath();var n=t.offsetX,s=t.offsetY;m.current.moveTo(n,s),p(!0),o(f.current.width),c(n,s)},onMouseMove:function(e){var t=e.nativeEvent,c=t.offsetX,s=t.offsetY;v&&(m.current.lineTo(c,s),m.current.stroke(),n(c,s))},onMouseUp:g,ref:f}):Object(j.jsx)("canvas",{className:"drawing-canvas b-black",ref:f})})}),R=(n(441),function(e){var t=e.message,n=t.user,c=t.text,s=!1;return n===e.name.trim().toLowerCase()&&(s=!0),s?Object(j.jsx)("div",{className:"messageContainer justifyStart",children:Object(j.jsxs)("p",{className:"pr-10 messageText",children:[Object(j.jsx)("span",{className:"sentText-from",children:n}),": ",c]})}):Object(j.jsx)("div",{className:"messageContainer justifyStart",children:Object(j.jsxs)("p",{className:"pr-10 messageText",children:[Object(j.jsx)("span",{className:"sentText-to",children:n}),": ",c]})})}),U=(n(442),function(e){var t=e.message,n=e.setMessage,c=e.sendMessage,s=e.messages,r=e.name,a=e.currentUser,o=e.currentDrawer,u=e.disableChat;return Object(j.jsx)(l.c,{className:"drawing-chat-column",size:"3",children:Object(j.jsxs)("div",{className:"drawing-chat",children:[Object(j.jsx)("h1",{className:"chat-title",children:"Chat"}),Object(j.jsx)(E.a,{className:"messages",children:s.map((function(e,t){return Object(j.jsx)("div",{children:Object(j.jsx)(R,{message:e,name:r})},t)}))}),a.name===o||u?Object(j.jsx)("form",{className:"form",children:Object(j.jsx)("input",{className:"input no-input",readOnly:!0,type:"text",placeholder:"Please wait...",value:t,onChange:function(e){return n(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?c(e):null}})}):Object(j.jsx)("form",{className:"form",children:Object(j.jsx)("input",{className:"input",type:"text",placeholder:"Guess the drawing!",value:t,onChange:function(e){return n(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?c(e):null}})})]})})}),T=(n(443),function(e){var t=e.location,n=Object(v.a)(p,{volume:.2}),r=Object(i.a)(n,1)[0],a=Object(v.a)(g,{volume:.2}),o=Object(i.a)(a,1)[0],u=Object(v.a)(N,{volume:.2}),b=Object(i.a)(u,1)[0],m=Object(v.a)(w,{volume:.2}),h=Object(i.a)(m,1)[0],E=Object(v.a)(S,{volume:.2}),R=Object(i.a)(E,1)[0],T=Object(v.a)(C,{volume:.2}),_=Object(i.a)(T,1)[0],G=Object(v.a)(k,{volume:.2}),W=Object(i.a)(G,1)[0],I=Object(s.useRef)(0),P=Object(s.useRef)(75),L=Object(s.useRef)(null),z=Object(s.useState)(""),F=Object(i.a)(z,2),J=F[0],K=F[1],Y=Object(s.useState)(""),B=Object(i.a)(Y,2),H=B[0],X=B[1],A=Object(s.useState)(""),Q=Object(i.a)(A,2),V=Q[0],Z=Q[1],q=Object(s.useState)(""),$=Object(i.a)(q,2),ee=$[0],te=$[1],ne=Object(s.useState)(""),ce=Object(i.a)(ne,2),se=ce[0],re=ce[1],ae=Object(s.useState)([]),oe=Object(i.a)(ae,2),ue=oe[0],ie=oe[1],le=Object(s.useState)({x:null,y:null}),je=Object(i.a)(le,2),be=je[0],de=je[1],fe=Object(s.useState)({x:null,y:null}),me=Object(i.a)(fe,2),Oe=me[0],he=me[1],xe=Object(s.useState)(null),ve=Object(i.a)(xe,2),pe=ve[0],ge=ve[1],Ne=Object(s.useState)(!1),we=Object(i.a)(Ne,2),Se=we[0],Ce=we[1],ke=Object(s.useState)(null),ye=Object(i.a)(ke,2),Ee=ye[0],De=ye[1],Me=Object(s.useState)(!1),Re=Object(i.a)(Me,2),Ue=Re[0],Te=Re[1],_e=Object(s.useState)(!1),Ge=Object(i.a)(_e,2),We=Ge[0],Ie=Ge[1],Pe=Object(s.useState)("black"),Le=Object(i.a)(Pe,2),ze=Le[0],Fe=Le[1],Je=Object(s.useState)(""),Ke=Object(i.a)(Je,2),Ye=Ke[0],Be=Ke[1],He=Object(s.useState)(""),Xe=Object(i.a)(He,2),Ae=Xe[0],Qe=Xe[1],Ve=Object(s.useState)(!1),Ze=Object(i.a)(Ve,2),qe=Ze[0],$e=Ze[1];Object(s.useEffect)((function(){var e=O.a.parse(t.search),n=e.name,s=e.room;return c=x()("https://skribbleguessbackend.ue.r.appspot.com/"),K(n),X(s),c.emit("join",{name:n,room:s},(function(e){e&&alert(e)})),function(){K(null),X(null)}}),[t.search]),Object(s.useEffect)((function(){return I.current=0,c.on("message",(function(e){ie((function(t){return[].concat(Object(f.a)(t),[e])}))})),c.on("currentUser",(function(e){var t=e.user;Z(t)})),c.on("currentDrawer",(function(e){var t=e.drawer;Be(t)})),c.on("roomData",(function(e){var t=e.users;te(t)})),c.on("mouse",(function(e,t){de((function(n){return Object(d.a)(Object(d.a)({},n),{},{x:e,y:t})}))})),c.on("move2",(function(e,t){he((function(n){return Object(d.a)(Object(d.a)({},n),{},{x:e,y:t})}))})),c.on("scale2",(function(e){ge(e)})),c.on("clear2",(function(){Ce(!0),Ce(!1)})),c.on("canvasClear",(function(){Ce(!1)})),c.on("time2",(function(){Ie(!0),De(P.current),Te(!0)})),c.on("updateUsers2",(function(e){var t=e.newUserList,n=e.newIndex;I.current=n,te(t)})),c.on("setGuessWord",(function(e){Qe(e)})),c.on("changeTime",(function(e){clearInterval(L.current),De(e)})),c.on("setColor2",(function(e){Fe(e)})),c.on("endGame",(function(){Te(!1)})),function(){c.close()}}),[]),Object(s.useEffect)((function(){c.on("winSound",(function(){r()}))}),[r]),Object(s.useEffect)((function(){c.on("loseSound",(function(){o()}))}),[o]),Object(s.useEffect)((function(){c.on("correctGuessSound",(function(){b()}))}),[b]),Object(s.useEffect)((function(){c.on("nextRoundSound",(function(){h()}))}),[h]),Object(s.useEffect)((function(){c.on("joinSound",(function(){R()}))}),[R]),Object(s.useEffect)((function(){c.on("leaveSound",(function(){_()}))}),[_]),Object(s.useEffect)((function(){c.on("startSound",(function(){W()}))}),[W]);Object(s.useEffect)((function(){0===Ee&&Ue&&($e(!1),Ce(!0),Fe("black"),De(P.current),c.emit("updateUsers",I.current,ee),V.host&&(c.emit("revealWord",Ae),c.emit("removeFirstGuess"),c.emit("getWord"))),Ee>0&&(L.current=setTimeout((function(){De(Ee-1)}),1e3))}),[Ee,Ue,ee,V.host]);var et=function(e){Fe(e),c.emit("setColor",e)};return Object(j.jsx)("div",{className:"drawing-container",children:Object(j.jsxs)(l.d,{className:"drawing-inner-container",fluid:!0,children:[Object(j.jsx)(y,{currentUser:V,room:H,initialTime:Ee,currentDrawer:Ye.name,guessWord:Ae}),Object(j.jsxs)(l.j,{className:"drawing-canvas-outer",children:[Object(j.jsx)(D,{currentUser:V,users:ee}),Object(j.jsx)(M,{strokeColor:ze,sendDrawing:function(e,t){c.emit("mouse",e,t)},sendMove:function(e,t){c.emit("move",e,t)},userMove:Oe,userDraw:be,sendScale:function(e){c.emit("scale",e)},userScale:pe,currentUser:V,canvasClear:Se}),Object(j.jsx)(U,{message:se,setMessage:re,sendMessage:function(e){e.preventDefault(),0!==se.length&&(se.toLowerCase()===Ae.toLowerCase()?(c.emit("correctGuess",ee,(function(){return re("")})),$e(!0)):c.emit("sendMessage",se,(function(){return re("")})))},messages:ue,name:J,currentUser:V,currentDrawer:Ye.name,disableChat:qe})]}),V.host?Object(j.jsx)("button",{className:"drawing-button",hidden:We,onClick:function(){Ie(!0),De(P.current),Te(!0),c.emit("clear"),c.emit("timer"),c.emit("startedGame"),c.emit("getWord")},children:"Start Game!"}):null,V.name===Ye.name&&We?Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"dot black-dot",onClick:function(){return et("black")}}),Object(j.jsx)("span",{className:"dot white-dot",onClick:function(){return et("white")}}),Object(j.jsx)("span",{className:"dot red-dot",onClick:function(){return et("red")}}),Object(j.jsx)("span",{className:"dot blue-dot",onClick:function(){return et("blue")}}),Object(j.jsx)("span",{className:"dot green-dot",onClick:function(){return et("green")}}),Object(j.jsx)("span",{className:"dot yellow-dot",onClick:function(){return et("yellow")}}),Object(j.jsx)("span",{className:"dot fill-color",onClick:function(){return c.emit("clear")},children:Object(j.jsx)(l.e,{icon:"fill-drip",size:"3x"})})]}):null]})})}),_=function(){return Object(j.jsxs)(o.a,{children:[Object(j.jsx)(u.a,{path:"/",exact:!0,component:b}),Object(j.jsx)(u.a,{path:"/DrawingRoom",component:T})]})};n(444),n(445),n(446);a.a.render(Object(j.jsx)(_,{}),document.getElementById("root"))}},[[447,1,2]]]);
//# sourceMappingURL=main.4b84576b.chunk.js.map